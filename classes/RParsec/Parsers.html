<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>RParsec::Parsers</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
RParsec::Parsers
</h1>
<ol class='paths'>
<li>
<a href="../../files/lib/rparsec/parsers_rb.html">lib/rparsec/parsers.rb</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p>This module provides all out-of-box parser implementations.</p>
</div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Instance</h3>
<ol>
<li><a href="#method-i-alt">alt</a></li>
<li><a href="#method-i-among">among</a></li>
<li><a href="#method-i-any">any</a></li>
<li><a href="#method-i-are">are</a></li>
<li><a href="#method-i-arent">arent</a></li>
<li><a href="#method-i-char">char</a></li>
<li><a href="#method-i-comment_block">comment_block</a></li>
<li><a href="#method-i-comment_line">comment_line</a></li>
<li><a href="#method-i-eof">eof</a></li>
<li><a href="#method-i-failure">failure</a></li>
<li><a href="#method-i-get_index">get_index</a></li>
<li><a href="#method-i-integer">integer</a></li>
<li><a href="#method-i-is">is</a></li>
<li><a href="#method-i-isnt">isnt</a></li>
<li><a href="#method-i-lazy">lazy</a></li>
<li><a href="#method-i-longest">longest</a></li>
<li><a href="#method-i-map">map</a></li>
<li><a href="#method-i-mapn">mapn</a></li>
<li><a href="#method-i-not_among">not_among</a></li>
<li><a href="#method-i-not_char">not_char</a></li>
<li><a href="#method-i-not_string">not_string</a></li>
<li><a href="#method-i-number">number</a></li>
<li><a href="#method-i-one">one</a></li>
<li><a href="#method-i-range">range</a></li>
<li><a href="#method-i-regexp">regexp</a></li>
<li><a href="#method-i-satisfies">satisfies</a></li>
<li><a href="#method-i-sequence">sequence</a></li>
<li><a href="#method-i-set_index">set_index</a></li>
<li><a href="#method-i-shortest">shortest</a></li>
<li><a href="#method-i-string">string</a></li>
<li><a href="#method-i-string_nocase">string_nocase</a></li>
<li><a href="#method-i-sum">sum</a></li>
<li><a href="#method-i-throwp">throwp</a></li>
<li><a href="#method-i-token">token</a></li>
<li><a href="#method-i-value">value</a></li>
<li><a href="#method-i-watch">watch</a></li>
<li><a href="#method-i-watchn">watchn</a></li>
<li><a href="#method-i-whitespace">whitespace</a></li>
<li><a href="#method-i-whitespaces">whitespaces</a></li>
<li><a href="#method-i-word">word</a></li>
<li><a href="#method-i-zero">zero</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='section'>
<div id='constants-list'>
<h2>Constants</h2>
<div class='name-list'>
<table summary='Constants'>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>Whitespaces</td>
<td>=</td>
<td class='context-item-value'>" \t\r\n"</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>characters considered white space.</p>
</td>
</tr>
</table>
</div>
</div>
<div id='aliases-list'>
<h2>Public Instance Aliases</h2>
<div class='name-list'>
<table summary='Public Instance Aliases'>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>longer</td>
<td>-&gt;</td>
<td class='context-item-value'><a href="#method-i-longest">longest</a></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>shorter</td>
<td>-&gt;</td>
<td class='context-item-value'><a href="#method-i-shortest">shortest</a></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>str</td>
<td>-&gt;</td>
<td class='context-item-value'><a href="#method-i-string">string</a></td>
</tr>
</table>
</div>
</div>
<div id='methods'>
<h2>Public Instance methods</h2>
<div class='method public-instance' id='method-method-i-alt'>
<a name='method-i-alt'></a>
<div class='synopsis'>
<span class='name'>alt</span><span class='arguments'>(*alts)</span>

</div>
<div class='description'>

<p>A parser that calls alternative parsers until one succeeds.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-alt-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-alt-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">alt</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">alts</span>)
  <span class="ruby-constant">AltParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">alts</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-among'>
<a name='method-i-among'></a>
<div class='synopsis'>
<span class='name'>among</span><span class='arguments'>(*vals)</span>

</div>
<div class='description'>

<p>A parser that succeeds when the the current input is among the given values.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-among-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-among-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">among</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">vals</span>)
  <span class="ruby-identifier">expected</span> = <span class="ruby-node">&quot;one of [#{vals.join(&#39;, &#39;)}] expected&quot;</span>
  <span class="ruby-identifier">vals</span> = <span class="ruby-identifier">as_list</span> <span class="ruby-identifier">vals</span>
  <span class="ruby-identifier">satisfies</span>(<span class="ruby-identifier">expected</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">vals</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">c</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-any'>
<a name='method-i-any'></a>
<div class='synopsis'>
<span class='name'>any</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>A parser that consumes one input.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-any-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-any-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 236</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">any</span>
  <span class="ruby-constant">AnyParser</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-are'>
<a name='method-i-are'></a>
<div class='synopsis'>
<span class='name'>are</span><span class='arguments'>(vals, expected = "#{vals} expected")</span>

</div>
<div class='description'>

<p>A parser that tries to match the current inputs one by one with the given values. It succeeds only when all given values are matched, in which case all the matched inputs are consumed.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-are-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-are-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">are</span>(<span class="ruby-identifier">vals</span>, <span class="ruby-identifier">expected</span> = <span class="ruby-node">&quot;#{vals} expected&quot;</span>)
  <span class="ruby-constant">AreParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">vals</span>, <span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-arent'>
<a name='method-i-arent'></a>
<div class='synopsis'>
<span class='name'>arent</span><span class='arguments'>(vals, expected = "#{vals} unexpected")</span>

</div>
<div class='description'>

<p>A parser that makes sure that the given values don’t match the current inputs. One input is consumed if it succeeds.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-arent-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-arent-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">arent</span>(<span class="ruby-identifier">vals</span>, <span class="ruby-identifier">expected</span> = <span class="ruby-node">&quot;#{vals} unexpected&quot;</span>)
  <span class="ruby-identifier">are</span>(<span class="ruby-identifier">vals</span>, <span class="ruby-string">&#39;&#39;</span>).<span class="ruby-identifier">not</span>(<span class="ruby-identifier">expected</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">any</span>
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-char'>
<a name='method-i-char'></a>
<div class='synopsis'>
<span class='name'>char</span><span class='arguments'>(c)</span>

</div>
<div class='description'>

<p>A parser that succeeds when the the current input is the given character.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-char-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-char-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">char</span>(<span class="ruby-identifier">c</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Integer</span>
    <span class="ruby-identifier">nm</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">chr</span>
    <span class="ruby-identifier">is</span>(<span class="ruby-identifier">c</span>, <span class="ruby-node">&quot;&#39;#{nm}&#39; expected&quot;</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">nm</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">is</span>(<span class="ruby-identifier">c</span>[<span class="ruby-value">0</span>], <span class="ruby-node">&quot;&#39;#{c}&#39; expected&quot;</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">c</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-comment_block'>
<a name='method-i-comment_block'></a>
<div class='synopsis'>
<span class='name'>comment_block</span><span class='arguments'>(open, close)</span>

</div>
<div class='description'>

<p>A parser that parses a chunk of text started with <code>open</code> and ended by <code>close</code>.  <code>nil</code> is the result.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-comment_block-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-comment_block-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 361</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">comment_block</span> <span class="ruby-identifier">open</span>, <span class="ruby-identifier">close</span>
  <span class="ruby-identifier">string</span>(<span class="ruby-identifier">open</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">not_string</span>(<span class="ruby-identifier">close</span>).<span class="ruby-identifier">many_</span> <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">string</span>(<span class="ruby-identifier">close</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">value</span>(<span class="ruby-keyword">nil</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-comment_line'>
<a name='method-i-comment_line'></a>
<div class='synopsis'>
<span class='name'>comment_line</span><span class='arguments'>(start)</span>

</div>
<div class='description'>

<p>A parser that parses a line started with <code>start</code>.  <code>nil</code> is the result.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-comment_line-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-comment_line-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">comment_line</span> <span class="ruby-identifier">start</span>
  <span class="ruby-identifier">string</span>(<span class="ruby-identifier">start</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">not_char</span>(<span class="ruby-value">?\n</span>).<span class="ruby-identifier">many_</span> <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">char</span>(<span class="ruby-value">?\n</span>).<span class="ruby-identifier">optional</span> <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">value</span>(<span class="ruby-keyword">nil</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-eof'>
<a name='method-i-eof'></a>
<div class='synopsis'>
<span class='name'>eof</span><span class='arguments'>(expected = "EOF expected")</span>

</div>
<div class='description'>

<p>A parser that succeeds when there’s no input available.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-eof-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-eof-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">eof</span>(<span class="ruby-identifier">expected</span> = <span class="ruby-string">&quot;EOF expected&quot;</span>)
  <span class="ruby-constant">EofParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expected</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;EOF&quot;</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-failure'>
<a name='method-i-failure'></a>
<div class='synopsis'>
<span class='name'>failure</span><span class='arguments'>(msg)</span>

</div>
<div class='description'>

<p>A parser that always fails with the given error message.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-failure-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-failure-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">failure</span> <span class="ruby-identifier">msg</span>
  <span class="ruby-constant">FailureParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">msg</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-get_index'>
<a name='method-i-get_index'></a>
<div class='synopsis'>
<span class='name'>get_index</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>A parser that returns the current input index (starting from 0).</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-get_index-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-get_index-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 203</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_index</span>
  <span class="ruby-constant">GetIndexParser</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&#39;get_index&#39;</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-integer'>
<a name='method-i-integer'></a>
<div class='synopsis'>
<span class='name'>integer</span><span class='arguments'>(expected = 'integer expected')</span>

</div>
<div class='description'>

<p>A parser that parses an integer and return the matched integer as string.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-integer-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-integer-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 292</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">integer</span>(<span class="ruby-identifier">expected</span> = <span class="ruby-string">&#39;integer expected&#39;</span>)
  <span class="ruby-identifier">regexp</span>(<span class="ruby-regexp">/\d+(?!\w)/</span>, <span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-is'>
<a name='method-i-is'></a>
<div class='synopsis'>
<span class='name'>is</span><span class='arguments'>(v, expected = "#{v} expected")</span>

</div>
<div class='description'>

<p>A parser that succeeds when the the current input is equal to the given value.  <code>expected</code> is the error message when the predicate returns false.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-is-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-is-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">is</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">expected</span> = <span class="ruby-node">&quot;#{v} expected&quot;</span>)
  <span class="ruby-identifier">satisfies</span>(<span class="ruby-identifier">expected</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">v</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-isnt'>
<a name='method-i-isnt'></a>
<div class='synopsis'>
<span class='name'>isnt</span><span class='arguments'>(v, expected = "#{v} unexpected")</span>

</div>
<div class='description'>

<p>A parser that succeeds when the the current input is not equal to the given value.  <code>expected</code> is the error message when the predicate returns false.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-isnt-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-isnt-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 101</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">isnt</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">expected</span> = <span class="ruby-node">&quot;#{v} unexpected&quot;</span>)
  <span class="ruby-identifier">satisfies</span>(<span class="ruby-identifier">expected</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">v</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-lazy'>
<a name='method-i-lazy'></a>
<div class='synopsis'>
<span class='name'>lazy</span><span class='arguments'>(&block)</span>

</div>
<div class='description'>

<p>A lazy parser, when executed, calls the given <code>block</code> to get a parser object and delegate the call to this lazily instantiated parser.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-lazy-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-lazy-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 370</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">lazy</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">LazyParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-longest'>
<a name='method-i-longest'></a>
<div class='synopsis'>
<span class='name'>longest</span><span class='arguments'>(*parsers)</span>

</div>
<div class='description'>

<p>A parser that tries all given alternative <code>parsers</code> and picks the one with the longest match.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-longest-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-longest-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 218</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">longest</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">parsers</span>)
  <span class="ruby-constant">BestParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">parsers</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-map'>
<a name='method-i-map'></a>
<div class='synopsis'>
<span class='name'>map</span><span class='arguments'>(&block)</span>

</div>
<div class='description'>

<p>A parser that maps current parser result to a new result using the given <code>block</code>.</p>

<p>Different from <a href="Parser.html#method-i-map"><code>Parser#map</code></a>, this method does not need to be combined with any <a href="Parser.html"><code>Parser</code></a> object.  It is rather an independent <a href="Parser.html"><code>Parser</code></a> object that maps the <em>current</em> parser result.</p>

<p><code>parser1.map { |x| ... }</code> is equivalent to <code>parser1 &gt;&gt; map { |x| ... }</code>.</p>

<p>See also <a href="Parser.html#method-i-3E-3E"><code>Parser#&gt;&gt;</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-map-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-map-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 417</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">one</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block</span>
  <span class="ruby-constant">MapCurrentParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-mapn'>
<a name='method-i-mapn'></a>
<div class='synopsis'>
<span class='name'>mapn</span><span class='arguments'>(&block)</span>

</div>
<div class='description'>

<p>A parser that maps current parser result to a new result using the given <code>block</code>.  If the current parser result is an array, the array elements are expanded and then passed as parameters to the <code>block</code>.</p>

<p>Different from <a href="Parser.html#method-i-mapn"><code>Parser#mapn</code></a>, this method does not need to be combined with any <a href="Parser.html"><code>Parser</code></a> object.  It is rather an independent <a href="Parser.html"><code>Parser</code></a> object that maps the <em>current</em> parser result.</p>

<p><code>parser1.mapn { |x, y| ... }</code> is equivalent to <code>parser1 &gt;&gt; mapn { |x, y| ... }</code>.</p>

<p>See also <a href="Parser.html#method-i-3E-3E"><code>Parser#&gt;&gt;</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-mapn-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-mapn-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mapn</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">one</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block</span>
  <span class="ruby-constant">MapnCurrentParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-not_among'>
<a name='method-i-not_among'></a>
<div class='synopsis'>
<span class='name'>not_among</span><span class='arguments'>(*vals)</span>

</div>
<div class='description'>

<p>A parser that succeeds when the the current input is not among the given values.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-not_among-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-not_among-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">not_among</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">vals</span>)
  <span class="ruby-identifier">expected</span> = <span class="ruby-node">&quot;one of [#{vals.join(&#39;, &#39;)}] unexpected&quot;</span>
  <span class="ruby-identifier">vals</span> = <span class="ruby-identifier">as_list</span> <span class="ruby-identifier">vals</span>
  <span class="ruby-identifier">satisfies</span>(<span class="ruby-identifier">expected</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">vals</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">c</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-not_char'>
<a name='method-i-not_char'></a>
<div class='synopsis'>
<span class='name'>not_char</span><span class='arguments'>(c)</span>

</div>
<div class='description'>

<p>A parser that succeeds when the the current input is not the given character.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-not_char-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-not_char-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">not_char</span>(<span class="ruby-identifier">c</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Integer</span>
    <span class="ruby-identifier">nm</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">chr</span>
    <span class="ruby-identifier">isnt</span>(<span class="ruby-identifier">c</span>, <span class="ruby-node">&quot;&#39;#{nm}&#39; unexpected&quot;</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-node">&quot;~#{nm}&quot;</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">isnt</span>(<span class="ruby-identifier">c</span>[<span class="ruby-value">0</span>], <span class="ruby-node">&quot;&#39;#{c}&#39; unexpected&quot;</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-node">&quot;~#{c}&quot;</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-not_string'>
<a name='method-i-not_string'></a>
<div class='synopsis'>
<span class='name'>not_string</span><span class='arguments'>(str, msg = "\"#{str}\" unexpected")</span>

</div>
<div class='description'>

<p>A parser that makes sure that the current input doesn’t match a string. One character is consumed if it succeeds.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-not_string-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-not_string-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">not_string</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;\&quot;#{str}\&quot; unexpected&quot;</span>)
  <span class="ruby-identifier">string</span>(<span class="ruby-identifier">str</span>).<span class="ruby-identifier">not</span>(<span class="ruby-identifier">msg</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">any</span>
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-number'>
<a name='method-i-number'></a>
<div class='synopsis'>
<span class='name'>number</span><span class='arguments'>(expected = 'number expected')</span>

</div>
<div class='description'>

<p>A parser that parses a number (integer, or decimal number) and return the matched number as string.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-number-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-number-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 300</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number</span>(<span class="ruby-identifier">expected</span> = <span class="ruby-string">&#39;number expected&#39;</span>)
  <span class="ruby-identifier">regexp</span>(<span class="ruby-regexp">/\d+(\.\d+)?/</span>, <span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-one'>
<a name='method-i-one'></a>
<div class='synopsis'>
<span class='name'>one</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>A parser that always succeeds.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-one-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-one-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">one</span>
  <span class="ruby-constant">OneParser</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-range'>
<a name='method-i-range'></a>
<div class='synopsis'>
<span class='name'>range</span><span class='arguments'>(from, to, msg = "#{as_char from}..#{as_char to} expected")</span>

</div>
<div class='description'>

<p>A parser that succeeds if the current input is within a certain range.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-range-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-range-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 257</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">range</span>(<span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;#{as_char from}..#{as_char to} expected&quot;</span>)
  <span class="ruby-identifier">from</span> = <span class="ruby-identifier">as_num</span>(<span class="ruby-identifier">from</span>)
  <span class="ruby-identifier">to</span> = <span class="ruby-identifier">as_num</span>(<span class="ruby-identifier">to</span>)
  <span class="ruby-identifier">satisfies</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">to</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">from</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-regexp'>
<a name='method-i-regexp'></a>
<div class='synopsis'>
<span class='name'>regexp</span><span class='arguments'>(ptn, expected = "/#{ptn}/ expected")</span>

</div>
<div class='description'>

<p>A parser that succeeds if the current inputs match the given regular expression. The matched string is consumed and returned as result.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-regexp-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-regexp-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">regexp</span>(<span class="ruby-identifier">ptn</span>, <span class="ruby-identifier">expected</span> = <span class="ruby-node">&quot;/#{ptn}/ expected&quot;</span>)
  <span class="ruby-constant">RegexpParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">as_regexp</span>(<span class="ruby-identifier">ptn</span>), <span class="ruby-identifier">expected</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">expected</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-satisfies'>
<a name='method-i-satisfies'></a>
<div class='synopsis'>
<span class='name'>satisfies</span><span class='arguments'>(expected, &pred)</span>

</div>
<div class='description'>

<p>A parser that succeeds when the given predicate returns true (with the current input as the parameter).  <code>expected</code> is the error message when <code>pred</code> returns false.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-satisfies-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-satisfies-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">satisfies</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">pred</span>)
  <span class="ruby-constant">SatisfiesParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pred</span>, <span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-sequence'>
<a name='method-i-sequence'></a>
<div class='synopsis'>
<span class='name'>sequence</span><span class='arguments'>(*parsers, &proc)</span>

</div>
<div class='description'>

<p>A parser that sequentially run the given <code>parsers</code>.  The result of the last parser is used as return value.  If a block is given, the results of the <code>parsers</code> are passed into the block as parameters, and the block return value is used as result instead.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-sequence-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-sequence-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sequence</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">parsers</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
  <span class="ruby-constant">SequenceParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">parsers</span>, <span class="ruby-identifier">proc</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-set_index'>
<a name='method-i-set_index'></a>
<div class='synopsis'>
<span class='name'>set_index</span><span class='arguments'>(ind)</span>

</div>
<div class='description'>

<p>A parser that moves the current input pointer to a certain index.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-set_index-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-set_index-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_index</span> <span class="ruby-identifier">ind</span>
  <span class="ruby-constant">SetIndexParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ind</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;set_index&quot;</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-shortest'>
<a name='method-i-shortest'></a>
<div class='synopsis'>
<span class='name'>shortest</span><span class='arguments'>(*parsers)</span>

</div>
<div class='description'>

<p>A parser that tries all given alternative <code>parsers</code> and picks the one with the shortest match.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-shortest-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-shortest-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 226</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">shortest</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">parsers</span>)
  <span class="ruby-constant">BestParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">parsers</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-string'>
<a name='method-i-string'></a>
<div class='synopsis'>
<span class='name'>string</span><span class='arguments'>(str, msg = "\"#{str}\" expected")</span>

</div>
<div class='description'>

<p>A parser that matches the given string.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-string-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-string-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">string</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;\&quot;#{str}\&quot; expected&quot;</span>)
  <span class="ruby-identifier">are</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">msg</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">str</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-string_nocase'>
<a name='method-i-string_nocase'></a>
<div class='synopsis'>
<span class='name'>string_nocase</span><span class='arguments'>(str, expected = "'#{str}' expected")</span>

</div>
<div class='description'>

<p>A parser that matches the given string, case insensitively.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-string_nocase-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-string_nocase-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">string_nocase</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">expected</span> = <span class="ruby-node">&quot;&#39;#{str}&#39; expected&quot;</span>)
  <span class="ruby-constant">StringCaseInsensitiveParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">expected</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">str</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-sum'>
<a name='method-i-sum'></a>
<div class='synopsis'>
<span class='name'>sum</span><span class='arguments'>(*alts)</span>

</div>
<div class='description'>

<p>A parser that calls alternative parsers until one succeed, or any failure with input consumption beyond the current look-ahead.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-sum-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-sum-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sum</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">alts</span>)
  <span class="ruby-constant">PlusParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">alts</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-throwp'>
<a name='method-i-throwp'></a>
<div class='synopsis'>
<span class='name'>throwp</span><span class='arguments'>(symbol)</span>

</div>
<div class='description'>

<p>A parser that throws a <code>symbol</code>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-throwp-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-throwp-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 266</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">throwp</span>(<span class="ruby-identifier">symbol</span>)
  <span class="ruby-constant">ThrowParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">symbol</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-token'>
<a name='method-i-token'></a>
<div class='synopsis'>
<span class='name'>token</span><span class='arguments'>(*kinds, &proc)</span>

</div>
<div class='description'>

<p>A parser that succeeds when the current input is a token with one of the the given token <code>kinds</code>.  If a block is given, the token text is passed to the block as parameter, and the block return value is used as result.  Otherwise, the token object is used as result.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-token-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-token-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 318</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">token</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">kinds</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
  <span class="ruby-identifier">expected</span> = <span class="ruby-node">&quot;#{kinds.join(&#39; or &#39;)} expected&quot;</span>
  <span class="ruby-identifier">recognizer</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">kinds</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">kind</span> = <span class="ruby-identifier">kinds</span>[<span class="ruby-value">0</span>]
    <span class="ruby-identifier">recognizer</span> = <span class="ruby-identifier">satisfies</span>(<span class="ruby-identifier">expected</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tok</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">tok</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:kind</span>, <span class="ruby-value">:text</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">kind</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">tok</span>.<span class="ruby-identifier">kind</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">recognizer</span> = <span class="ruby-identifier">satisfies</span>(<span class="ruby-identifier">expected</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tok</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">tok</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:kind</span>, <span class="ruby-value">:text</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">kinds</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">tok</span>.<span class="ruby-identifier">kind</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">recognizer</span> = <span class="ruby-identifier">recognizer</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">tok</span><span class="ruby-operator">|</span> <span class="ruby-identifier">proc</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">tok</span>.<span class="ruby-identifier">text</span>) } <span class="ruby-keyword">if</span> <span class="ruby-identifier">proc</span>
  <span class="ruby-identifier">recognizer</span>
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-value'>
<a name='method-i-value'></a>
<div class='synopsis'>
<span class='name'>value</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>A parser that always succeeds with the given return value.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-value-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-value-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">value</span> <span class="ruby-identifier">v</span>
  <span class="ruby-constant">ValueParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-watch'>
<a name='method-i-watch'></a>
<div class='synopsis'>
<span class='name'>watch</span><span class='arguments'>(&block)</span>

</div>
<div class='description'>

<p>A parser that watches the current parser result without changing it.  The following assert will succeed:</p>

<pre class="ruby"><span class="ruby-identifier">char</span>(<span class="ruby-value">?a</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">watch</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">?a</span>, <span class="ruby-identifier">x</span>) }
</pre>

<p><code>watch</code> can also be used as a handy tool to print trace information, for example:</p>

<pre class="ruby"><span class="ruby-identifier">some_parser</span> <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">watch</span> { <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;some_parser succeeded.&quot;</span> }
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-watch-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-watch-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 385</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">watch</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">one</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block</span>
  <span class="ruby-constant">WatchParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-watchn'>
<a name='method-i-watchn'></a>
<div class='synopsis'>
<span class='name'>watchn</span><span class='arguments'>(&block)</span>

</div>
<div class='description'>

<p>A parser that watches the current parser result without changing it.  The following assert will succeed:</p>

<pre class="ruby"><span class="ruby-identifier">char</span>(<span class="ruby-value">?a</span>).<span class="ruby-identifier">repeat</span>(<span class="ruby-value">2</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">watchn</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span>([<span class="ruby-value">?a</span>, <span class="ruby-value">?a</span>], [<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>]) }
</pre>

<p>Slightly different from <a href="Parsers.html#method-i-watch"><code>watch</code></a>, <code>watchn</code> expands the current parser result before passing it into the associated block.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-watchn-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-watchn-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 399</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">watchn</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">one</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block</span>
  <span class="ruby-constant">WatchnParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-whitespace'>
<a name='method-i-whitespace'></a>
<div class='synopsis'>
<span class='name'>whitespace</span><span class='arguments'>(expected = "whitespace expected")</span>

</div>
<div class='description'>

<p>A parser that parses a white space character.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-whitespace-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-whitespace-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 338</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">whitespace</span>(<span class="ruby-identifier">expected</span> = <span class="ruby-string">&quot;whitespace expected&quot;</span>)
  <span class="ruby-identifier">satisfies</span>(<span class="ruby-identifier">expected</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-constant">Whitespaces</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">c</span> }
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-whitespaces'>
<a name='method-i-whitespaces'></a>
<div class='synopsis'>
<span class='name'>whitespaces</span><span class='arguments'>(expected = "whitespace(s) expected")</span>

</div>
<div class='description'>

<p>A parser that parses 1 or more white space characters.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-whitespaces-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-whitespaces-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 345</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">whitespaces</span>(<span class="ruby-identifier">expected</span> = <span class="ruby-string">&quot;whitespace(s) expected&quot;</span>)
  <span class="ruby-identifier">whitespace</span>(<span class="ruby-identifier">expected</span>).<span class="ruby-identifier">many_</span>(<span class="ruby-value">1</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-word'>
<a name='method-i-word'></a>
<div class='synopsis'>
<span class='name'>word</span><span class='arguments'>(expected = 'word expected')</span>

</div>
<div class='description'>

<p>A parser that parses a word (starting with alpha or underscore, followed by 0 or more alpha, number or underscore). and return the matched word as string.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-word-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-word-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 284</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">word</span>(<span class="ruby-identifier">expected</span> = <span class="ruby-string">&#39;word expected&#39;</span>)
  <span class="ruby-identifier">regexp</span>(<span class="ruby-regexp">/[a-zA-Z_]\w*/</span>, <span class="ruby-identifier">expected</span>)
<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-zero'>
<a name='method-i-zero'></a>
<div class='synopsis'>
<span class='name'>zero</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>A parser that always fails.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-zero-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-zero-source'><span class="ruby-comment"># File lib/rparsec/parsers.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">zero</span>
  <span class="ruby-constant">ZeroParser</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
